const test = require('ava')

const {arc} = require('./index')

const path2 = require('../geometry/path2')

const comparePoints = require('../../test/helpers/comparePoints')

test('arc (defaults)', t => {
  const exp = [
    [ 1, 0 ],
    [ 0.9324722290039062, 0.3612416684627533 ],
    [ 0.739008903503418, 0.6736956238746643 ],
    [ 0.4457383453845978, 0.8951632976531982 ],
    [ 0.09226836264133453, 0.9957341551780701 ],
    [ -0.2736629843711853, 0.9618256688117981 ],
    [ -0.602634608745575, 0.7980172038078308 ],
    [ -0.8502171635627747, 0.5264321565628052 ],
    [ -0.9829730987548828, 0.1837495118379593 ],
    [ -0.9829730987548828, -0.1837495118379593 ],
    [ -0.8502171635627747, -0.5264321565628052 ],
    [ -0.602634608745575, -0.7980172038078308 ],
    [ -0.2736629843711853, -0.9618256688117981 ],
    [ 0.09226836264133453, -0.9957341551780701 ],
    [ 0.4457383453845978, -0.8951632976531982 ],
    [ 0.739008903503418, -0.6736956238746643 ],
    [ 0.9324722290039062, -0.3612416684627533 ]
  ]
  const geometry = arc()
  const obs = path2.toPoints(geometry)

  t.deepEqual(obs.length, 17)
  t.true(comparePoints(obs, exp))
})
