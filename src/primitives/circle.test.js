const test = require('ava')

const {circle} = require('./index')

const geom2 = require('../geometry/geom2')

const comparePoints = require('../../test/helpers/comparePoints')

test('circle (defaults)', t => {
  const exp = [
    [ 1, 0 ],
    [ 0.9238795042037964, 0.3826834261417389 ],
    [ 0.7071067690849304, 0.7071067690849304 ],
    [ 0.3826834261417389, 0.9238795042037964 ],
    [ 6.123234262925839e-17, 1 ],
    [ -0.3826834261417389, 0.9238795042037964 ],
    [ -0.7071067690849304, 0.7071067690849304 ],
    [ -0.9238795042037964, 0.3826834261417389 ],
    [ -1, 1.2246468525851679e-16 ],
    [ -0.9238795042037964, -0.3826834261417389 ],
    [ -0.7071067690849304, -0.7071067690849304 ],
    [ -0.3826834261417389, -0.9238795042037964 ],
    [ -1.8369701465288538e-16, -1 ],
    [ 0.3826834261417389, -0.9238795042037964 ],
    [ 0.7071067690849304, -0.7071067690849304 ],
    [ 0.9238795042037964, -0.3826834261417389 ]
  ]
  const geometry = circle()
  const obs = geom2.toPoints(geometry)

  t.deepEqual(obs.length, 16)
  t.true(comparePoints(obs, exp))
})
